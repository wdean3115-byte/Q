{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/25LP5292/Desktop/Q/app/dashboard/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\ntype Article = {\n  id: string;\n  title: string;\n};\n\nexport default function Sidebar() {\n  const [articles, setArticles] = useState<Article[]>([]);\n\n  useEffect(() => {\n    fetch(\"/api/my-articles\")\n      .then((r) => r.json())\n      .then(setArticles)\n      .catch((err) => console.error(\"Error fetching articles:\", err));\n  }, []);\n\n  return (\n    <aside className=\"w-64 bg-white border-r p-4 flex flex-col\">\n      <div className=\"mb-8 px-2\">\n        <h2 className=\"text-xl font-bold tracking-tight text-gray-500\">\n          AI Quizzer\n        </h2>\n      </div>\n\n      <h2 className=\"text-xs font-semibold text-gray-500 mb-3 px-2 uppercase tracking-wider\">\n        Түүх\n      </h2>\n\n      <div className=\"space-y-1 overflow-y-auto\">\n        {articles.length === 0 ? (\n          <p className=\"text-xs text-gray-400 px-2 italic \">\n            Түүх хоосон байна\n          </p>\n        ) : (\n          articles.map((a) => (\n            <Link\n              key={a.id}\n              href={`/dashboard/history/${a.id}`} // Энэ хуудсыг дараа нь хийж болно\n              className=\"block w-full text-left text-sm px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors truncate text-gray-500\"\n            >\n              {a.title}\n            </Link>\n          ))\n        )}\n      </div>\n    </aside>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IAEtD,IAAA,kNAAS,EAAC;QACR,MAAM,oBACH,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,IAClB,IAAI,CAAC,aACL,KAAK,CAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC,4BAA4B;IAC9D,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAM,WAAU;;0BACf,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BAAiD;;;;;;;;;;;0BAKjE,8OAAC;gBAAG,WAAU;0BAAyE;;;;;;0BAIvF,8OAAC;gBAAI,WAAU;0BACZ,SAAS,MAAM,KAAK,kBACnB,8OAAC;oBAAE,WAAU;8BAAqC;;;;;2BAIlD,SAAS,GAAG,CAAC,CAAC,kBACZ,8OAAC,uKAAI;wBAEH,MAAM,CAAC,mBAAmB,EAAE,EAAE,EAAE,EAAE;wBAClC,WAAU;kCAET,EAAE,KAAK;uBAJH,EAAE,EAAE;;;;;;;;;;;;;;;;AAWvB"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/25LP5292/Desktop/Q/components/user-sync.tsx"],"sourcesContent":["\"use client\";\n\nimport { useUser } from \"@clerk/nextjs\";\nimport { useEffect, useRef } from \"react\";\n\nexport default function UserSync() {\n  const { isSignedIn, user } = useUser();\n  const syncedRef = useRef(false);\n\n  useEffect(() => {\n    // Only sync if signed in, user data is loaded, and we haven't synced yet\n    if (isSignedIn && user && !syncedRef.current) {\n      syncedRef.current = true;\n\n      fetch(\"/api/users/sync\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          clerkId: user.id,\n          email: user.primaryEmailAddress?.emailAddress,\n          fullName: user.fullName,\n          imageUrl: user.imageUrl,\n        }),\n      })\n        .then(async (res) => {\n          if (res.ok) {\n            console.log(\"User synced to DB\");\n          } else {\n            const errorText = await res.text();\n            console.error(`Sync failed: ${res.status} - ${errorText}`);\n            // Reset ref if it failed so it can try again on next render\n            syncedRef.current = false;\n          }\n        })\n        .catch((err) => {\n          console.error(\"Sync network error:\", err);\n          syncedRef.current = false;\n        });\n    }\n  }, [isSignedIn, user]);\n\n  return null;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKe,SAAS;IACtB,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,IAAA,kLAAO;IACpC,MAAM,YAAY,IAAA,+MAAM,EAAC;IAEzB,IAAA,kNAAS,EAAC;QACR,yEAAyE;QACzE,IAAI,cAAc,QAAQ,CAAC,UAAU,OAAO,EAAE;YAC5C,UAAU,OAAO,GAAG;YAEpB,MAAM,mBAAmB;gBACvB,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,SAAS,KAAK,EAAE;oBAChB,OAAO,KAAK,mBAAmB,EAAE;oBACjC,UAAU,KAAK,QAAQ;oBACvB,UAAU,KAAK,QAAQ;gBACzB;YACF,GACG,IAAI,CAAC,OAAO;gBACX,IAAI,IAAI,EAAE,EAAE;oBACV,QAAQ,GAAG,CAAC;gBACd,OAAO;oBACL,MAAM,YAAY,MAAM,IAAI,IAAI;oBAChC,QAAQ,KAAK,CAAC,CAAC,aAAa,EAAE,IAAI,MAAM,CAAC,GAAG,EAAE,WAAW;oBACzD,4DAA4D;oBAC5D,UAAU,OAAO,GAAG;gBACtB;YACF,GACC,KAAK,CAAC,CAAC;gBACN,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,UAAU,OAAO,GAAG;YACtB;QACJ;IACF,GAAG;QAAC;QAAY;KAAK;IAErB,OAAO;AACT"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/25LP5292/Desktop/Q/app/dashboard/layout.tsx"],"sourcesContent":["// app/dashboard/layout.tsx\n\"use client\";\n\nimport { ReactNode } from \"react\";\nimport Sidebar from \"./sidebar\";\nimport UserSync from \"../../components/user-sync\";\nimport { UserButton } from \"@clerk/nextjs\";\n\nexport default function DashboardLayout({ children }: { children: ReactNode }) {\n  return (\n    <div className=\"h-screen flex bg-[#f7f7f7]\">\n      {/* Sidebar */}\n      <UserSync />\n      <Sidebar />\n\n      {/* Main area */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* Topbar */}\n        <header className=\"h-14 bg-white border-b flex items-center justify-between px-6\">\n          <h1 className=\"font-semibold text-sm text-gray-600\">Quiz app</h1>\n          <div className=\"flex items-center gap-4\">\n            <UserButton\n              afterSignOutUrl=\"/sign-in\"\n              appearance={{\n                elements: {\n                  avatarBox: \"w-8 h-8\",\n                },\n              }}\n            />\n          </div>\n        </header>\n\n        {/* Page */}\n        <main className=\"flex-1 overflow-y-auto p-8\">{children}</main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AANA,2BAA2B;AAC3B;;;;;AAOe,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IAC3E,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,sIAAQ;;;;;0BACT,8OAAC,uIAAO;;;;;0BAGR,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,qLAAU;oCACT,iBAAgB;oCAChB,YAAY;wCACV,UAAU;4CACR,WAAW;wCACb;oCACF;;;;;;;;;;;;;;;;;kCAMN,8OAAC;wBAAK,WAAU;kCAA8B;;;;;;;;;;;;;;;;;;AAItD"}}]
}