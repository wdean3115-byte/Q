{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/25LP5292/Desktop/Q/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function DashboardPage() {\n  const router = useRouter();\n\n  // States\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [summary, setSummary] = useState<string | null>(null);\n  const [articleId, setArticleId] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isQuizLoading, setIsQuizLoading] = useState(false);\n\n  // 1. Нийтлэлийг хураангуйлах функц\n  const generateSummary = async () => {\n    setIsLoading(true);\n    try {\n      const res = await fetch(\"/api/summarize\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ title, content }),\n      });\n\n      if (!res.ok) {\n        throw new Error(\" алдаа гарлаа\");\n      }\n\n      const data = await res.json();\n      setSummary(data.summary);\n      setArticleId(data.id); // Дараа нь quiz үүсгэхэд хэрэгтэй\n    } catch (err) {\n      alert(err instanceof Error ? err.message : \"Алдаа гарлаа\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 2. Quiz үүсгэж, quiz хуудас руу шилжих функц\n  const handleTakeQuiz = async () => {\n    if (!articleId) return;\n\n    setIsQuizLoading(true);\n    try {\n      const res = await fetch(\"/api/quizzes\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ articleId }),\n      });\n\n      if (!res.ok) {\n        throw new Error(\"Quiz үүсгэхэд алдаа гарлаа\");\n      }\n\n      const quizData = await res.json();\n      // Quiz амжилттай үүссэн бол динамик route руу шилжинэ\n      router.push(`/dashboard/quiz/${quizData.id}`);\n    } catch (err) {\n      alert(err instanceof Error ? err.message : \"Алдаа гарлаа\");\n    } finally {\n      setIsQuizLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      {/* Оруулах хэсэг */}\n      <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n        <h2 className=\"font-semibold text-lg mb-1 flex items-center gap-2 text-gray-500\">\n          AI Article Assistant\n        </h2>\n        <p className=\"text-sm text-gray-400 mb-6\">AI will help u anything</p>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"text-xs font-medium text-gray-700 uppercase tracking-wider\">\n              Гарчиг\n            </label>\n            <input\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              className=\"mt-1 w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black/5 \n                 text-gray-500 font-medium placeholder:text-gray-400\" // Текст: хар саарал, Placeholder: цайвар саарал\n              placeholder=\"Нийтлэлийн гарчиг...\"\n            />\n          </div>\n\n          <div>\n            <label className=\"text-xs font-medium text-gray-700 uppercase tracking-wider\">\n              Агуулга\n            </label>\n            <textarea\n              value={content}\n              onChange={(e) => setContent(e.target.value)}\n              rows={8}\n              className=\"mt-1 w-full border border-gray-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-black/5 \n                 text-gray-500 placeholder:text-gray-400 leading-relaxed\" // Текст: дунд зэргийн саарал, Placeholder: маш цайвар\n              placeholder=\"Place text here\"\n            />\n          </div>\n        </div>\n\n        <div className=\"flex justify-end mt-6\">\n          <button\n            onClick={generateSummary}\n            disabled={isLoading || !title || !content}\n            className=\"bg-black text-white text-sm font-medium px-6 py-2.5 rounded-lg hover:bg-gray-800 disabled:opacity-50 transition-all flex items-center gap-2\"\n          >\n            {isLoading ? (\n              <>\n                <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                Loading\n              </>\n            ) : (\n              \"Хураангуй үүсгэх\"\n            )}\n          </button>\n        </div>\n      </div>\n\n      {/* Хураангуй харуулах хэсэг */}\n      {summary && (\n        <div className=\"bg-white rounded-xl shadow-sm p-6 mt-6 border border-gray-100 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n          <div className=\"flex justify-between items-start mb-4\">\n            <h3 className=\"font-bold text-gray-900\">{title}</h3>\n            <span className=\"bg-green-50 text-green-700 text-[10px] font-bold px-2 py-1 rounded uppercase tracking-widest\">\n              AI Summary\n            </span>\n          </div>\n\n          <p className=\"text-sm text-gray-600 leading-relaxed italic\">\n            {summary}\n          </p>\n\n          <div className=\"flex items-center justify-between mt-8 pt-6 border-t border-gray-50\">\n            <p className=\"text-xs text-gray-400\">Do u wanna take test?</p>\n            <button\n              onClick={handleTakeQuiz}\n              disabled={isQuizLoading}\n              className=\"bg-blue-600 text-white text-sm font-semibold px-5 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n            >\n              {isQuizLoading ? (\n                <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n              ) : (\n                \"Initiating quiz\"\n              )}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}